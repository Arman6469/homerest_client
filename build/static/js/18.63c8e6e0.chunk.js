(this.webpackJsonphomerest=this.webpackJsonphomerest||[]).push([[18],{214:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.touched,a=e.message;return t?a?r.a.createElement("div",{style:{color:"red",fontSize:"10px",margin:"0",padding:"0"}},a):r.a.createElement("div",null,"\xa0"):r.a.createElement("div",{style:{fontSize:"10px",margin:"0",padding:"0"}},"\xa0")}},316:function(e,t,a){},317:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(40),r=a(19),c=a(38),l=a(11),s=a(0),i=a.n(s),m=(a(316),a(20)),u=a(41),o=a(12),d=a.n(o),p=a(23),h=(a(317),a(245)),f=a(243),b=a(214),E=a(247),v=a(242),g=a.n(v),N=a(18),_=f.a().shape({email:f.b().email("Must b a valid email address").max(30,"Must be shorter than 30").required("required"),adress:f.b().min(6,"Must be more than 6 letters").required("required"),firstname:f.b().required("required"),lastname:f.b().required("required"),phone:f.b().required().matches(/^[0-9+]+$/,"Must be only digits").min(12,"Must be exactly 12 symbols").max(12,"Must be exactly 12 sybmols").required("required")});function I(e){var t=e.cartProducts,a=Object(s.useRef)(),n=function(){var e=Object(p.a)(d.a.mark((function e(n){var l,s,i,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.current.executeAsync();case 2:return l=e.sent,s=Object(r.a)(Object(r.a)({},n),{},{products:Object(c.a)(t),token:l}),e.prev=4,e.next=7,Object(N.a)({method:"POST",url:"/email/sendmail",data:s});case 7:i=e.sent,(m=i.data).message?g()("\u0548\u0582\u057c\u0561\u0561\u055c\ud83e\udd29",m.message,"success").then((function(){localStorage.clear(),window.location.reload()})):m.error&&g()("\u054e\u0561\u0575\ud83d\ude15, \u053b\u0576\u0579 \u0578\u0580 \u0562\u0561\u0576 \u0561\u0575\u0576 \u0579\u0567\ud83e\uddd0",m.error,"warning"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("section",{className:"signup_main_section"},i.a.createElement("div",{className:"signup_form"},i.a.createElement("div",{className:"signup_main_part"},i.a.createElement("h2",{className:"registration_title"},"Check Out"),i.a.createElement(h.a,{initialValues:{firstname:"",lastname:"",email:"",phone:"",adress:""},validationSchema:_,onSubmit:function(e,t){var a=t.setSubmitting,r=t.resetForm;a(!0),n(e),r(),a(!1)}},(function(e){var t=e.values,n=e.errors,r=e.touched,c=e.handleChange,l=e.handleBlur,s=e.handleSubmit;return i.a.createElement("form",{onSubmit:s},i.a.createElement("div",{className:r.firstname&&n.firstname?"error ui large input form_input":"ui input large form_input"},i.a.createElement("input",{id:"firstname",name:"firstname",type:"text",className:"order_inputs",placeholder:"Enter your firstname",onBlur:l,onChange:c,value:t.firstname}),i.a.createElement(b.a,{touched:r.firstname,message:n.firstname})),i.a.createElement("div",{className:r.lastname&&n.lastname?"error ui large input form_input":"ui input large form_input"},i.a.createElement("input",{id:"lastname",name:"lastname",type:"text",className:"order_inputs",placeholder:"Enter your lastname",onBlur:l,onChange:c,value:t.lastname}),i.a.createElement(b.a,{touched:r.lastname,message:n.lastname})),i.a.createElement("div",{className:r.email&&n.email?"error ui large input form_input":"ui input large form_input"},i.a.createElement("input",{id:"email",name:"email",type:"email",className:"order_inputs",placeholder:"Enter your email: Example  example@example.com",onBlur:l,onChange:c,value:t.email}),i.a.createElement(b.a,{touched:r.email,message:n.email})),i.a.createElement("div",{className:r.phone&&n.phone?"error ui large input form_input":"ui input large form_input"},i.a.createElement("input",{id:"phone",name:"phone",type:"text",className:"order_inputs",placeholder:"Enter your phone number: Example  +37400000000",onBlur:l,onChange:c,value:t.phone}),i.a.createElement(b.a,{touched:r.phone,message:n.phone})),i.a.createElement("div",{className:r.adress&&n.adress?"error ui large input form_input":"ui input large form_input"},i.a.createElement("input",{id:"adress",name:"adress",type:"adress",className:"order_inputs",placeholder:"Enter your address",onBlur:l,onChange:c,value:t.adress}),i.a.createElement(b.a,{touched:r.adress,message:n.adress})),i.a.createElement(E.a,{sitekey:"6LdVtNQZAAAAAKpGNGIiZLFmxvyCvNN1ZmkDDLXM",size:"invisible",ref:a}),i.a.createElement("button",{className:"submit_button_order font-small weight-7",type:"submit"},"Check Out"))})))))}t.default=Object(m.b)((function(e){return{data:e.fetchData.products}}))((function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),m=a[0],o=a[1],d=Object(s.useState)(0),p=Object(l.a)(d,2),h=p[0],f=p[1],b=Object(u.a)().setItem;return Object(s.useEffect)((function(){for(var e=0,t=0;t<m.length;t++)e+=m[t].totalPrice;f(e)}),[m]),Object(s.useEffect)((function(){e.data&&(o([]),e.data.map((function(t){return e.cartItemsID[t._id]&&o((function(a){return[].concat(Object(c.a)(a),[Object(r.a)(Object(r.a)({},t),{},{count:e.cartItemsID[t._id],totalPrice:e.cartItemsID[t._id]*t.price})])})),null})))}),[e.data,e.cartItemsID]),i.a.createElement("div",{className:m.length>1?"width-100 pt-7 flex-column px-1 border-box":"width-100 pt-7 flex-column px-1 border-box pb-footer"},i.a.createElement("div",{className:"flex width-100"},i.a.createElement("table",{className:"ui celled table width-75"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"width-25"},"\u0531\u057a\u0580\u0561\u0576\u0584\u0568"),i.a.createElement("th",{className:"width-25"},"\u0531\u0576\u0578\u0582\u0576\u0568"),i.a.createElement("th",{className:"width-25"},"\u0554\u0561\u0576\u0561\u056f\u0568"),i.a.createElement("th",{className:"width-25"},"\u0533\u056b\u0576\u0568"))),m.length>0?m.map((function(t){return i.a.createElement("tbody",{key:t._id},i.a.createElement("tr",{className:"width-100"},i.a.createElement("td",{"data-label":"Name"}," ",i.a.createElement("img",{src:t.images[0],alt:t.description,width:"100%"})),i.a.createElement("td",{"data-label":"Title",className:"height-100 font-large font-red jscac capitalize"},t.title),i.a.createElement("td",{"data-label":"Count"},i.a.createElement("div",{className:"cart_plus_minus width-100"},i.a.createElement("div",{className:1===t.count?"cart_count_button disabled":"cart_count_button",onClick:function(){return function(t,a){var c=Object(r.a)(Object(r.a)({},e.cartItemsID),{},Object(n.a)({},t,a-1));e.setCartItemsID(c),b("cartItems",c)}(t._id,t.count)}},"-"),i.a.createElement("div",{className:"cart_count"},t.count),i.a.createElement("div",{className:"cart_count_button",onClick:function(){return function(t,a){var c=Object(r.a)(Object(r.a)({},e.cartItemsID),{},Object(n.a)({},t,a+1));e.setCartItemsID(c),b("cartItems",c)}(t._id,t.count)}},"+"),i.a.createElement("div",{className:"ui vertical animated button standart ml-2 remove_button",tabIndex:"0",onClick:function(){return function(t){if(e.cartItemsID[t]){delete e.cartItemsID[t];var a=Object(r.a)({},e.cartItemsID);e.setCartItemsID(a),b("cartItems",a)}}(t._id)}},i.a.createElement("div",{className:"hidden content"},"\u054b\u0576\u057b\u0565\u056c"),i.a.createElement("div",{className:"visible content"},i.a.createElement("i",{className:"trash icon"}))))),i.a.createElement("td",{"data-label":"totalPrice",className:"font-medium font-red"},i.a.createElement("div",{className:"w-100 jscac font-medium-cart"},t.totalPrice,"\u058f"))))})):i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"jsc  width-100"},i.a.createElement("h1",{className:"font-small-cart font-red"},'\u0541\u0565\u0580 \u0566\u0561\u0574\u0562\u0575\u0578\u0582\u0572\u0568 \u0564\u0565\u057c \u0564\u0561\u057f\u0561\u0580\u056f \u0567, \u0568\u0576\u057f\u0580\u0565\u0584 \u0587 \u0561\u057e\u0565\u056c\u0561\u0581\u0580\u0565\u0584 \u0571\u0565\u0580 \u0576\u0561\u056d\u0568\u0576\u057f\u0580\u0561\u056e \u0574\u0578\u0564\u0565\u056c\u0576\u0565\u0580\u0568 "\u053d\u0561\u0576\u0578\u0582\u0569" \u0562\u0561\u056a\u0576\u056b\u0581',i.a.createElement("span",{role:"img","aria-label":""},"\ud83d\ude0a"))))))),i.a.createElement("div",{className:"width-25-cart flex-column"},i.a.createElement("p",{className:"font-small-cart font-red weight-6 text-center"},"\u0531\u057c\u0561\u0584\u0578\u0582\u0574\u0568 \u0561\u0574\u0562\u0578\u0572\u057b \u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576\u0578\u0582\u0574 \u0531\u0546\u054e\u0543\u0531\u0550 \u0567"),i.a.createElement("p",{className:"font-medium-cart font-red weight-8 capitalize mt-3"},"\u0538\u0576\u0564\u0570\u0561\u0576\u0578\u0582\u0580 \u0563\u0578\u0582\u0574\u0561\u0580\u0568"),i.a.createElement("p",{className:"font-medium-cart font-red weight-7"},h,"\u058f"),i.a.createElement("p",{className:"font-small-cart font-red weight-6 mt-3"},"\u054e\u0573\u0561\u0580\u0578\u0582\u0574\u0568 \u056f\u0561\u0576\u056d\u056b\u056f"))),m.length>0?i.a.createElement(I,{cartProducts:m,setCartProducts:o}):null)}))}}]);
//# sourceMappingURL=18.63c8e6e0.chunk.js.map