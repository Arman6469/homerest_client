{"version":3,"sources":["components/SubMenu/SubMenu.js","components/SearchBar/SearchBar.js","components/Pagination/Pagination.js","components/Dropdown/Dropdown.js","pages/Shop/ShopPage.js"],"names":["SubMenu","Menu","SideBar","headerItems","current","currentAll","setCurrent","setCurrentAll","setActive","history","useHistory","className","mode","theme","openKeys","selectedKeys","Item","key","onClick","push","map","category","_id","title","onTitleClick","id","all","allClicked","alltype","products","product","type","changeHistory","furtype","SearchBar","setSearch","placeholder","onChange","e","target","value","trim","toLowerCase","func","Pagination","length","handleChange","active","location","useLocation","change","useCallback","num","window","scrollTo","top","behavior","useEffect","icon","faChevronLeft","Array","fill","a","idx","faChevronRight","Dropdown","setProducts","style","width","sortedProducts","sort","b","price","sale","connect","state","data","fetchData","props","useState","query","loading","setLoading","search","newquery","useMemo","qs","parse","replace","elNumInPage","currentPage","setCurrentPage","productsInPage","slice","Object","entries","filteredProducts","filter","includes","Loading","ProductCard","Math","ceil","page"],"mappings":"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","file":"static/js/17.ba8eeef5.chunk.js","sourcesContent":["import React from \"react\";\nimport { Menu } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"./submenu.scss\";\nimport { useHistory } from \"react-router-dom\";\n\nconst { SubMenu } = Menu;\n\nexport default function SideBar({\n  headerItems,\n  current,\n  currentAll,\n  setCurrent,\n  setCurrentAll,\n  setActive,\n}) {\n  const history = useHistory();\n  const changeHistory = (category, type, id) => {\n    history.push(`/shop/?category=${category}&type=${type}`);\n    setCurrentAll(id);\n  };\n\n  const showAll = () => {\n    history.push(\"/shop\");\n    setCurrentAll(\"all\");\n    setActive(1);\n  };\n\n  const allClicked = (category, id) => {\n    history.push(`/shop/?category=${category}`);\n    setCurrentAll(id);\n    setActive(1);\n  };\n  const subMenuClicked = (id) => {\n    setCurrent(id);\n  };\n\n  return (\n    <Menu\n      className=\"sub_menu font_sub_title\"\n      mode={\"inline\"}\n      theme={\"light\"}\n      openKeys={[`sub${current}`]}\n      selectedKeys={[currentAll]}\n    >\n      <Menu.Item className=\"font_sub_title bg-gray\" key={\"all\"} onClick={showAll}>\n       Ամբողջը \n      </Menu.Item>\n      {headerItems\n        ? headerItems.map((category) => {\n            return (\n              <SubMenu\n                key={`sub${category._id}`}\n                title={category.title}\n                className=\"font_sub_title\"\n                onTitleClick={() => subMenuClicked(category._id)}\n              >\n                <Menu.Item\n                  className=\"bg-gray font_sub_text\"\n                  key={category.all[0]._id}\n                  onClick={() =>\n                    allClicked(category.category, category.all[0]._id)\n                  }\n                >\n                  {category.all[0].alltype}\n                </Menu.Item>\n                {category.products.map((product) => {\n                  return (\n                    <Menu.Item\n                      className=\"bg-gray font_sub_text\"\n                      key={product._id}\n                      onClick={() =>\n                        changeHistory(\n                          category.category,\n                          product.furtype,\n                          product._id\n                        )\n                      }\n                    >\n                      {product.furtype}\n                    </Menu.Item>\n                  );\n                })}\n              </SubMenu>\n            );\n          })\n        : null}\n    </Menu>\n  );\n}\n","import React from \"react\";\nimport './searchbar.scss'\n\nexport default function SearchBar({ setSearch, setActive }) {\n  const func = (e) => {\n    setSearch(e.target.value.trim().toLowerCase());\n    setActive(1);\n  };\n  return (\n    <div className=\"ui icon input search_input\" >\n      <i className=\"search icon\"></i>\n      <input type=\"text\"  className=\"search_text\"  placeholder=\"Search...\" onChange={(e) => func(e)} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./pagination.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronLeft,\n  faChevronRight,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useCallback } from \"react\";\n\nexport const Pagination = ({ length, handleChange, active, setActive }) => {\n  const ScrollUp = () => {\n    window.scrollTo({ top: \"0\", behavior: \"smooth\" });\n  };\n  const location = useLocation();\n\n  const change = useCallback(\n    (num) => {\n      if (num > length || num < 1) return;\n      setActive(num);\n      handleChange(num);\n      ScrollUp();\n    },\n    [handleChange, length, setActive]\n  );\n\n  useEffect(() => {\n    change(active);\n  }, [location, active, change]);\n\n  return length <= 1 ? (\n    \" \"\n  ) : (\n    <div className=\" pagination \">\n      <div\n        className=\"pagination-item jscac font-bb bg-yellow font-white jscac \"\n        onClick={() => change(active - 1)}\n      >\n        <FontAwesomeIcon icon={faChevronLeft} />\n      </div>\n      {new Array(length).fill(\" \").map((a, idx) => {\n        return (\n          <div\n            key={idx}\n            className={\n              active === idx + 1\n                ? \"border-circle pagination-item font-red\"\n                : \"border-circle  pagination-item font-white\"\n            }\n            onClick={() => change(idx + 1)}\n          >\n            <span className=\"h3\">{idx + 1}</span>\n          </div>\n        );\n      })}\n      <div\n        className=\"pagination-item jscac font-bb bg-yellow font-white \"\n        onClick={() => change(active + 1)}\n      >\n        <FontAwesomeIcon icon={faChevronRight} />\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./dropdown.scss\";\n\nexport default function Dropdown({ products, setProducts, setActive }) {\n  const sortToHigh = () => {\n    const sortedProducts = products.sort((a, b) => {\n      return a.price - b.price;\n    });\n    setActive(1);\n    setProducts([...sortedProducts]);\n  };\n  const sortToLower = () => {\n    const sortedProducts = products.sort((a, b) => {\n      return b.price - a.price;\n    });\n    setActive(1);\n    setProducts([...sortedProducts]);\n  };\n  const sortBySale = () => {\n    const sortedProducts = products.sort((a, b) => {\n      return b.sale - a.sale;\n    });\n    setActive(1);\n    setProducts([...sortedProducts]);\n  };\n  return (\n    <div className=\"drop\">\n      <div className=\"dropdown_main\">\n        <div className=\"dropdown_left\">\n          <i className=\"filter icon\" style={{width: \"1vw\"}}></i>\n        </div>\n        <div className=\"dropdown_right\">Filter</div>\n      </div>\n      <div className=\"choices\">\n        <p className=\"choice\" onClick={sortToLower}>\n          Թանկից Էժան\n        </p>\n        <p className=\"choice\" onClick={sortToHigh}>\n          Էժանից Թանկ\n        </p>\n        <p className=\"choice\" onClick={sortBySale}>\n          Զեղչվածներ\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useMemo, useEffect } from \"react\";\nimport \"./shoppage.scss\";\nimport { useLocation } from \"react-router-dom\";\nimport qs from \"query-string\";\nimport ProductCard from \"../../components/ProductCard/ProductCard\";\nimport SubMenu from \"../../components/SubMenu/SubMenu\";\nimport { connect } from \"react-redux\";\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\nimport { Pagination } from \"../../components/Pagination/Pagination\";\nimport Loading from \"../../components/Loading/Loading\";\nimport Dropdown from \"../../components/Dropdown/Dropdown\";\n\nfunction ShopPage(props) {\n  const [products, setProducts] = useState([]);\n  const [active, setActive] = useState(1);\n  const query = useLocation();\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const newquery = useMemo(() => qs.parse(query.search.replace(/\\s+/g, \"\")), [\n    query,\n  ]);\n  const [elNumInPage] = useState(9);\n  const [currentPage, setCurrentPage] = useState(1);\n  const productsInPage = useMemo(() => {\n    return products?.length\n      ? products.slice(\n          (currentPage - 1) * elNumInPage,\n          elNumInPage * currentPage\n        )\n      : [];\n  }, [products, elNumInPage, currentPage]);\n\n  \n  useEffect(() => {\n    if (props.data && props.data.length > 0) {\n      setLoading(false);\n    } else {\n      setLoading(true);\n    }\n  }, [props.data]);\n  useEffect(() => {\n    if (props.data) {\n      if (!Object.entries(newquery).length) {\n        if (search) {\n          setProducts(\n            props.data.filter((product) => product.title.includes(search))\n          );\n        } else {\n          setProducts(props.data);\n        }\n      } else {\n        const filteredProducts = props.data.filter(\n          (product) =>\n            (!newquery.category || product.category === newquery.category) &&\n            (!newquery.type || product.type === newquery.type)\n        );\n        if (search) {\n          setProducts(\n            filteredProducts.filter((product) => product.title.includes(search))\n          );\n        } else {\n          setProducts(filteredProducts);\n        }\n      }\n    }\n  }, [newquery, props.data, search]);\n\n  const renderPage = () => {\n    if (loading) return <Loading />;\n    return (\n      <div className=\"flex-column w-100\">\n        <div className=\"shop pt-7\">\n          <SubMenu\n            headerItems={props.headerItems}\n            current={props.current}\n            currentAll={props.currentAll}\n            setCurrentAll={props.setCurrentAll}\n            setCurrent={props.setCurrent}\n            setActive={setActive}\n          />\n          <div className=\"flex-column w-83\">\n            <div className=\"jscac\">\n              <Dropdown products={products} setProducts={setProducts} setActive={setActive}/>\n              <SearchBar setSearch={setSearch} setActive={setActive} />\n            </div>\n            <div className=\"shop_products\">\n              {productsInPage.length\n                ? productsInPage.map((product) => {\n                    return <ProductCard key={product._id} product={product} />;\n                  })\n                : null}\n            </div>\n          </div>\n        </div>\n\n        <Pagination\n          length={Math.ceil(products.length / elNumInPage)}\n          handleChange={(page) => setCurrentPage(page)}\n          active={active}\n          setActive={setActive}\n        />\n      </div>\n    );\n  };\n\n  return renderPage();\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.fetchData.products,\n  };\n};\n\nexport default connect(mapStateToProps)(ShopPage);\n"],"sourceRoot":""}